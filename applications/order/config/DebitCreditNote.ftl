<#setting number_format="0.00">	<TALLYMESSAGE>     <VOUCHER VCHTYPE="${returnHeader.voucherType}" ACTION="Create">      <DATE>${returnHeader.entryDate?if_exists?string("yyyyMMdd")}</DATE>      <#if returnHeader.formToIssueDate?exists>      <CSTFORMISSUEDATE>${returnHeader.formToIssueDate?string("yyyyMMdd")}</CSTFORMISSUEDATE>       </#if>      <VOUCHERTYPENAME>${returnHeader.voucherType}</VOUCHERTYPENAME>      <REFERENCE>${returnHeader.returnId?if_exists}</REFERENCE>      <PARTYLEDGERNAME>${billFromVendor.tallyLedgerName?if_exists?html}</PARTYLEDGERNAME>      <#if "Purchase"=voucherType>	      <#if returnHeader.formToIssue?exists>	      <CSTFORMISSUETYPE>${returnHeader.formToIssue?if_exists}</CSTFORMISSUETYPE>	      <CSTFORMISSUENUMBER>${returnHeader.formToIssueFormNo?if_exists}</CSTFORMISSUENUMBER>	      <CSTFORMISSUESERIESNUM>${returnHeader.formToIssueSeriesNo?if_exists}</CSTFORMISSUESERIESNUM>	      </#if>	      <#if returnHeader.formToReceive?exists>	       <CSTFORMRECVTYPE>${returnHeader.formToReceive?if_exists}</CSTFORMRECVTYPE>	       <CSTFORMRECVNUMBER>${returnHeader.formToReceiveFormNo?if_exists}</CSTFORMRECVNUMBER>	       <CSTFORMRECVSERIESNUM>${returnHeader.formToReceiveSeriesNo?if_exists}</CSTFORMRECVSERIESNUM>	      </#if>	  </#if>	  <#if "Debit Note"=voucherType>        <#if returnHeader.formToIssue?exists>       	<CSTFORMRECVTYPE>${returnHeader.formToIssue?if_exists}</CSTFORMRECVTYPE>       	<CSTFORMRECVNUMBER>${returnHeader.formToIssueFormNo?if_exists}</CSTFORMRECVNUMBER>      	<CSTFORMRECVSERIESNUM>${returnHeader.formToIssueSeriesNo?if_exists}</CSTFORMRECVSERIESNUM>       </#if>       <#if returnHeader.formToReceive?exists>	       <CSTFORMISSUETYPE>${returnHeader.formToReceive?if_exists}</CSTFORMISSUETYPE>	       <CSTFORMISSUENUMBER>${returnHeader.formToReceiveFormNo?if_exists}</CSTFORMISSUENUMBER>	       <CSTFORMISSUESERIESNUM>${returnHeader.formToReceiveSeriesNo?if_exists}</CSTFORMISSUESERIESNUM>	    </#if>      </#if>      <FBTPAYMENTTYPE>Default</FBTPAYMENTTYPE>      <PERSISTEDVIEW>Invoice Voucher View</PERSISTEDVIEW>      <VCHGSTCLASS/>      <DIFFACTUALQTY>No</DIFFACTUALQTY>      <AUDITED>No</AUDITED>      <FORJOBCOSTING>No</FORJOBCOSTING>      <ISOPTIONAL>No</ISOPTIONAL>      <EFFECTIVEDATE>${returnHeader.entryDate?string("yyyyMMdd")}</EFFECTIVEDATE>      <ISFORJOBWORKIN>No</ISFORJOBWORKIN>      <ALLOWCONSUMPTION>No</ALLOWCONSUMPTION>      <USEFORINTEREST>No</USEFORINTEREST>      <USEFORGAINLOSS>No</USEFORGAINLOSS>      <USEFORGODOWNTRANSFER>No</USEFORGODOWNTRANSFER>      <USEFORCOMPOUND>No</USEFORCOMPOUND>      <EXCISEOPENING>No</EXCISEOPENING>      <USEFORFINALPRODUCTION>No</USEFORFINALPRODUCTION>      <ISCANCELLED>No</ISCANCELLED>      <HASCASHFLOW>No</HASCASHFLOW>      <ISPOSTDATED>No</ISPOSTDATED>      <USETRACKINGNUMBER>No</USETRACKINGNUMBER>      <ISINVOICE>Yes</ISINVOICE>      <MFGJOURNAL>No</MFGJOURNAL>      <HASDISCOUNTS>No</HASDISCOUNTS>      <ASPAYSLIP>No</ASPAYSLIP>      <ISCOSTCENTRE>No</ISCOSTCENTRE>      <ISSTXNONREALIZEDVCH>No</ISSTXNONREALIZEDVCH>      <ISDELETED>No</ISDELETED>      <ASORIGINAL>No</ASORIGINAL>      <VCHISFROMSYNC>No</VCHISFROMSYNC>      <AUDITENTRIES.LIST>      </AUDITENTRIES.LIST>      <INVOICEDELNOTES.LIST>      </INVOICEDELNOTES.LIST>      <INVOICEORDERLIST.LIST>      </INVOICEORDERLIST.LIST>      <INVOICEINDENTLIST.LIST>      </INVOICEINDENTLIST.LIST>      <ATTENDANCEENTRIES.LIST>      </ATTENDANCEENTRIES.LIST>      <LEDGERENTRIES.LIST>       <LEDGERNAME>${billFromVendor.tallyLedgerName?if_exists?html}</LEDGERNAME>       <GSTCLASS/>       <ISDEEMEDPOSITIVE><#if "Debit Note"=voucherType>Yes<#else>No</#if></ISDEEMEDPOSITIVE>       <LEDGERFROMITEM>No</LEDGERFROMITEM>       <REMOVEZEROENTRIES>No</REMOVEZEROENTRIES>       <ISPARTYLEDGER>Yes</ISPARTYLEDGER>       <ISLASTDEEMEDPOSITIVE><#if "Debit Note"=voucherType>Yes<#else>No</#if></ISLASTDEEMEDPOSITIVE>       <#if "Debit Note"=voucherType>       <AMOUNT>-${grandTotal?if_exists}</AMOUNT>       <#else>       <AMOUNT>${grandTotal?if_exists}</AMOUNT>       </#if>       <BANKALLOCATIONS.LIST></BANKALLOCATIONS.LIST>       <INTERESTCOLLECTION.LIST></INTERESTCOLLECTION.LIST>       <BILLALLOCATIONS.LIST>        <NAME>${returnHeader.returnId?if_exists}</NAME>        <BILLTYPE>New Ref</BILLTYPE>       	<TDSDEDUCTEEISSPECIALRATE>No</TDSDEDUCTEEISSPECIALRATE>        <#if "Debit Note"=voucherType>        <AMOUNT>-${grandTotal?if_exists}</AMOUNT>        <#else>        <AMOUNT>${grandTotal?if_exists}</AMOUNT>       	</#if>        <INTERESTCOLLECTION.LIST></INTERESTCOLLECTION.LIST>       </BILLALLOCATIONS.LIST>        <INTERESTCOLLECTION.LIST>       </INTERESTCOLLECTION.LIST>       <AUDITENTRIES.LIST>       </AUDITENTRIES.LIST>       <TAXBILLALLOCATIONS.LIST>       </TAXBILLALLOCATIONS.LIST>       <TAXOBJECTALLOCATIONS.LIST>       </TAXOBJECTALLOCATIONS.LIST>       <TDSEXPENSEALLOCATIONS.LIST>       </TDSEXPENSEALLOCATIONS.LIST>       <VATSTATUTORYDETAILS.LIST>       </VATSTATUTORYDETAILS.LIST>       <COSTTRACKALLOCATIONS.LIST>       </COSTTRACKALLOCATIONS.LIST>      </LEDGERENTRIES.LIST>	<#if returnItemAdjs?has_content>	<#list returnItemAdjs as returnItemAdj>      <LEDGERENTRIES.LIST>      <#if returnItemAdj.rateOfTax?exists>       <BASICRATEOFINVOICETAX.LIST TYPE="Number">        <BASICRATEOFINVOICETAX>${returnItemAdj.rateOfTax}</BASICRATEOFINVOICETAX>       </BASICRATEOFINVOICETAX.LIST>       <TAXCLASSIFICATIONNAME>${returnItemAdj.dutyLedger.taxClassification?if_exists}</TAXCLASSIFICATIONNAME>       </#if>       <ROUNDTYPE/>       <LEDGERNAME>${returnItemAdj.dutyLedger.accountName?if_exists?html}</LEDGERNAME>       <GSTCLASS/>       <ISDEEMEDPOSITIVE><#if "Debit Note"=voucherType>No<#else>Yes</#if></ISDEEMEDPOSITIVE>       <LEDGERFROMITEM>No</LEDGERFROMITEM>       <REMOVEZEROENTRIES>No</REMOVEZEROENTRIES>       <ISPARTYLEDGER>No</ISPARTYLEDGER>       <ISLASTDEEMEDPOSITIVE><#if "Debit Note"=voucherType>No<#else>Yes</#if></ISLASTDEEMEDPOSITIVE>       <#if "Debit Note"=voucherType>       <AMOUNT>${returnItemAdj.amount}</AMOUNT>       <#else>       <AMOUNT>-${returnItemAdj.amount}</AMOUNT>       </#if>       <#if returnItemAdj.vatAssessableValue?exists>       <#if "Debit Note"=voucherType>	   <VATASSESSABLEVALUE>${returnItemAdj.vatAssessableValue}</VATASSESSABLEVALUE>	   <#else>	   <VATASSESSABLEVALUE>-${returnItemAdj.vatAssessableValue}</VATASSESSABLEVALUE>	   </#if>	   </#if>       <BANKALLOCATIONS.LIST>       </BANKALLOCATIONS.LIST>       <BILLALLOCATIONS.LIST>       </BILLALLOCATIONS.LIST>       <INTERESTCOLLECTION.LIST>       </INTERESTCOLLECTION.LIST>       <AUDITENTRIES.LIST>       </AUDITENTRIES.LIST>       <TAXBILLALLOCATIONS.LIST>       </TAXBILLALLOCATIONS.LIST>       <#if returnItemAdj.dutyLedger.taxClassification?exists>       <TAXOBJECTALLOCATIONS.LIST>        <CATEGORY>${returnItemAdj.dutyLedger.taxClassification?if_exists}</CATEGORY>        <TAXTYPE>${returnItemAdj.dutyLedger.taxType?if_exists}</TAXTYPE>        <TAXNAME>${returnHeader.returnId?if_exists}</TAXNAME>        <PARTYLEDGER>${billFromVendor.tallyLedgerName?if_exists?html}</PARTYLEDGER>        <REFTYPE>New Ref</REFTYPE>        <ISOPTIONAL>No</ISOPTIONAL>        <ISPANVALID>No</ISPANVALID>        <ZERORATED>No</ZERORATED>        <EXEMPTED>No</EXEMPTED>        <ISSPECIALRATE>No</ISSPECIALRATE>        <ISDEDUCTNOW>No</ISDEDUCTNOW>        <ISPANNOTAVAILABLE>No</ISPANNOTAVAILABLE>        <AUDITENTRIES.LIST>        </AUDITENTRIES.LIST>        <#list returnItemAdj.subCategories as subCat>        <SUBCATEGORYALLOCATION.LIST>         <STOCKITEMNAME>${subCat.productName?if_exists}</STOCKITEMNAME>         <#if returnItemAdj.dutyLedger?exists>         <SUBCATEGORY>${returnItemAdj.dutyLedger.taxType?if_exists}</SUBCATEGORY>         <DUTYLEDGER>${returnItemAdj.dutyLedger.accountName?if_exists?html}</DUTYLEDGER>         </#if>         <SUBCATZERORATED>No</SUBCATZERORATED>         <SUBCATEXEMPTED>No</SUBCATEXEMPTED>         <SUBCATISSPECIALRATE>No</SUBCATISSPECIALRATE>         <TAXRATE>${returnItemAdj.rateOfTax?if_exists}</TAXRATE>          <#if "Debit Note"=voucherType>         <ASSESSABLEAMOUNT>${subCat.assessableAmount?if_exists}</ASSESSABLEAMOUNT>         <TAX>${subCat.tax}</TAX>         <#else>         <ASSESSABLEAMOUNT>-${subCat.assessableAmount?if_exists}</ASSESSABLEAMOUNT>         <TAX>-${subCat.tax}</TAX>         </#if>         <BILLEDQTY>${subCat.orderItemQty?if_exists} ${subCat.productUom?if_exists}</BILLEDQTY>        </SUBCATEGORYALLOCATION.LIST>        </#list>	  </TAXOBJECTALLOCATIONS.LIST>	  </#if>      <TDSEXPENSEALLOCATIONS.LIST></TDSEXPENSEALLOCATIONS.LIST>      <VATSTATUTORYDETAILS.LIST></VATSTATUTORYDETAILS.LIST>      <COSTTRACKALLOCATIONS.LIST></COSTTRACKALLOCATIONS.LIST>      <#if returnItemAdj.rateOfTax?exists>      <UDF:MAHWCASSESSABLEVALUE.LIST DESC="`MAHWCAssessableValue`" ISLIST="YES" TYPE="Amount">        <#if "Debit Note"=voucherType>        <UDF:MAHWCASSESSABLEVALUE DESC="`MAHWCAssessableValue`">${returnItemAdj.vatAssessableValue?if_exists}</UDF:MAHWCASSESSABLEVALUE>        <#else>        <UDF:MAHWCASSESSABLEVALUE DESC="`MAHWCAssessableValue`">-${returnItemAdj.vatAssessableValue?if_exists}</UDF:MAHWCASSESSABLEVALUE>        </#if>      </UDF:MAHWCASSESSABLEVALUE.LIST>      </#if>      </LEDGERENTRIES.LIST>	  </#list>	  </#if>	  <#if returnItems?has_content>	  <#list returnItems as lineItem>       <ALLINVENTORYENTRIES.LIST>       <STOCKITEMNAME>${lineItem.productName}</STOCKITEMNAME>       <ISDEEMEDPOSITIVE><#if "Debit Note"=voucherType>No<#else>Yes</#if></ISDEEMEDPOSITIVE>       <ISLASTDEEMEDPOSITIVE><#if "Debit Note"=voucherType>No<#else>Yes</#if></ISLASTDEEMEDPOSITIVE>       <ISAUTONEGATE>No</ISAUTONEGATE>       <ISCUSTOMSCLEARANCE>No</ISCUSTOMSCLEARANCE>       <ISTRACKCOMPONENT>No</ISTRACKCOMPONENT>       <ISTRACKPRODUCTION>No</ISTRACKPRODUCTION>       <ISPRIMARYITEM>No</ISPRIMARYITEM>       <ISSCRAP>No</ISSCRAP>       <RATE>${lineItem.unitPrice}/${lineItem.productUom?if_exists}</RATE>       <#if "Debit Note"=voucherType>       <AMOUNT>${lineItem.amount}</AMOUNT>       <#else>       <AMOUNT>-${lineItem.amount}</AMOUNT>       </#if>       <ACTUALQTY> ${lineItem.returnQty} ${lineItem.productUom?if_exists}</ACTUALQTY>       <BILLEDQTY> ${lineItem.returnQty} ${lineItem.productUom?if_exists}</BILLEDQTY>       <#if maintainMultipleGodowns??>			<BATCHALLOCATIONS.LIST>		        <GODOWNNAME>Main Location</GODOWNNAME>		        <BATCHNAME>Primary Batch</BATCHNAME>		        <DESTINATIONGODOWNNAME>Main Location</DESTINATIONGODOWNNAME>		        <INDENTNO/>		        <ORDERNO/>		        <TRACKINGNUMBER/>		        <DYNAMICCSTISCLEARED>No</DYNAMICCSTISCLEARED>		        <#if "Debit Note"=voucherType>					<AMOUNT>${lineItem.amount}</AMOUNT>					<#else>					<AMOUNT>-${lineItem.amount}</AMOUNT>				</#if>		        <ACTUALQTY> 		        <#if "Debit Note"=voucherType>		        	${lineItem.returnQty*-1} ${lineItem.productUom?if_exists}		        <#else>		        	${lineItem.returnQty} ${lineItem.productUom?if_exists}		        </#if>		        </ACTUALQTY>				<BILLEDQTY> 				<#if "Debit Note"=voucherType>					${lineItem.returnQty*-1} ${lineItem.productUom?if_exists}				<#else>					${lineItem.returnQty} ${lineItem.productUom?if_exists}				</#if>				</BILLEDQTY>		        <ADDITIONALDETAILS.LIST>        </ADDITIONALDETAILS.LIST>		        <VOUCHERCOMPONENTLIST.LIST>        </VOUCHERCOMPONENTLIST.LIST>   			 </BATCHALLOCATIONS.LIST>		</#if>       <ACCOUNTINGALLOCATIONS.LIST>       	<#if lineItem.purchaseOrSalesAccountLedger?exists>        <TAXCLASSIFICATIONNAME>${lineItem.purchaseOrSalesAccountLedger.taxClassification?if_exists}</TAXCLASSIFICATIONNAME>        <LEDGERNAME>${lineItem.purchaseOrSalesAccountLedger.accountName?if_exists?html}</LEDGERNAME>        </#if>        <GSTCLASS/>        <ISDEEMEDPOSITIVE><#if "Debit Note"=voucherType>No<#else>Yes</#if></ISDEEMEDPOSITIVE>        <LEDGERFROMITEM>No</LEDGERFROMITEM>        <REMOVEZEROENTRIES>No</REMOVEZEROENTRIES>        <ISPARTYLEDGER>No</ISPARTYLEDGER>        <ISLASTDEEMEDPOSITIVE><#if "Debit Note"=voucherType>No<#else>Yes</#if></ISLASTDEEMEDPOSITIVE>        <#if "Debit Note"=voucherType>        <AMOUNT>${lineItem.amount}</AMOUNT>        <#else>        <AMOUNT>-${lineItem.amount}</AMOUNT>        </#if>        <BANKALLOCATIONS.LIST></BANKALLOCATIONS.LIST>        <BILLALLOCATIONS.LIST></BILLALLOCATIONS.LIST>        <INTERESTCOLLECTION.LIST></INTERESTCOLLECTION.LIST>        <AUDITENTRIES.LIST></AUDITENTRIES.LIST>        <TAXBILLALLOCATIONS.LIST></TAXBILLALLOCATIONS.LIST>        <TAXOBJECTALLOCATIONS.LIST></TAXOBJECTALLOCATIONS.LIST>        <TDSEXPENSEALLOCATIONS.LIST></TDSEXPENSEALLOCATIONS.LIST>        <VATSTATUTORYDETAILS.LIST></VATSTATUTORYDETAILS.LIST>        <COSTTRACKALLOCATIONS.LIST></COSTTRACKALLOCATIONS.LIST>       </ACCOUNTINGALLOCATIONS.LIST>       <EXCISEALLOCATIONS.LIST></EXCISEALLOCATIONS.LIST>       <EXPENSEALLOCATIONS.LIST> </EXPENSEALLOCATIONS.LIST>      </ALLINVENTORYENTRIES.LIST>	  </#list>	  </#if>     </VOUCHER>    </TALLYMESSAGE>