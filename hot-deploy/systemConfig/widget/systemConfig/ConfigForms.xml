<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<forms xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
        xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-form.xsd">
    <form name="FindProductConfigItems" type="list" list-name="listIt"
        default-table-style="basic-table" odd-row-style="alternate-row" paginate-target="FindProductConfigItems"
        target="" header-row-style="header-row-2" paginate="true">
        <actions>
            <service service-name="performFind" result-map-list="listIt" result-map="performFindResult">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="ProductConfigItem"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
        </actions>
        <row-actions>
            <set field="typeDescription" value="${bsh: return &quot;SINGLE&quot;.equals(configItemTypeId) ? uiLabelMap.get(&quot;ProductSingleChoice&quot;) : uiLabelMap.get(&quot;ProductMultiChoice&quot;)}"/>
        </row-actions>
        <field name="configItemId" title="${uiLabelMap.ProductConfigItem}" widget-style="btn-link">
            <hyperlink target="EditProductConfigItem" description="${configItemId}">
                <parameter param-name="configItemId"/>
            </hyperlink>
        </field>
        <field name="configItemName" title="${uiLabelMap.CommonName}"><display/></field>
        <field name="typeDescription" title="${uiLabelMap.CommonType}">
            <display description="${typeDescription}"/>
        </field>
        <field name="description"><display/></field>
    </form>
    <form name="FindProductConfigItemsFrom" type="single" target="FindProductConfigItems"
        default-map-name="productconfigitems"  header-row-style="header-row" default-table-style="basic-table">
        <auto-fields-entity entity-name="ProductConfigItem" default-field-type="find"/>
        <field name="configItemId" title="${uiLabelMap.ProductConfigItem}"/>
        <field name="configItemTypeId"><hidden/></field>
        <field name="configItemName"/>
        <field name="description"/>
        <field name="longDescription"><hidden/></field>
        <field name="imageUrl"><hidden/></field>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="btn btn-primary"><submit button-type="button"/></field>
    </form>
    <form name="EditProductConfigItem" type="single" target="updateProductConfigItem" title="" default-map-name="configItem"
        header-row-style="header-row" default-table-style="basic-table">

        <alt-target use-when="configItem==null" target="createProductConfigItem"/>

        <auto-fields-service service-name="updateProductConfigItem"/>
        <field name="longDescription" title="${uiLabelMap.ProductLongDescription}"><ignored/></field>
        <field name="imageUrl"><ignored/></field>
        <field use-when="configItem!=null" name="configItemId" title="${uiLabelMap.ProductConfigItem}" tooltip="${uiLabelMap.ProductNotModificationRecreatingProductConfigItems}"><display/></field>
        <field use-when="configItem==null&amp;&amp;configItemId!=null" name="configItemId" title="${uiLabelMap.ProductConfigItem}" tooltip="${uiLabelMap.ProductCouldNotFindProductConfigItemWithId} [${configItemId}]"><display description="" also-hidden="false"/></field>
        <field use-when="configItem==null&amp;&amp;configItemId==null" name="configItemId" title="${uiLabelMap.ProductConfigItem}"><ignored/></field>
        <field name="configItemTypeId" title="${uiLabelMap.ProductConfigItem} ${uiLabelMap.CommonType}">
            <drop-down allow-empty="false">
                <option key="SINGLE" description="${uiLabelMap.ProductSingleChoice}"/>
                <option key="MULTIPLE" description="${uiLabelMap.ProductMultiChoice}"/>
            </drop-down>
        </field>

        <field name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="btn btn-success"><submit button-type="button"/></field>
    </form>
    <form name="EditConfigOption" type="list" target="updateProductConfigOption" title="" list-name="configOptionList" list-entry-name="configOption"
        odd-row-style="alternate-row" default-table-style="basic-table">

        <auto-fields-service service-name="updateProductConfigOption" map-name="configOption"/>
        <field use-when="configOption!=null" name="configOptionId"><hidden/></field>
        <field name="configItemId"><hidden/></field>
        <field name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="btn btn-success"><submit button-type="button"/></field>
    </form>
    <form name="CreateConfigOption" type="single" target="createProductConfigOption" title="" default-map-name="configOption"
        header-row-style="header-row" default-table-style="basic-table">
        <alt-target use-when="configOption!=null" target="updateProductConfigOption"/>
        <auto-fields-service service-name="createProductConfigOption"/>

        <field use-when="configOption!=null" name="configOptionId"><hidden/></field>
        <field name="configItemId"><hidden value="${configItemId}"/></field>

        <field use-when="configOption!=null" name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="btn btn-success"><submit button-type="button"/></field>
        <field name="submitButton" title="${uiLabelMap.CommonCreate}" widget-style="btn btn-success"><submit button-type="button"/></field>
    </form>
    <form name="CreateProductConfigProduct" type="single" target="createProductConfigProduct" title="" default-map-name="productConfigProduct"
        header-row-style="header-row" default-table-style="basic-table">
        <alt-target use-when="productConfigProduct!=null" target="updateProductConfigProduct"/>
        <auto-fields-service service-name="createProductConfigProduct"/>

        <field name="configItemId"><hidden value="${configItemId}"/></field>
        <field name="configOptionId"><hidden value="${configOptionId}"/></field>
        <field use-when="productConfigProduct!=null" name="productId"><display/></field>
        <field use-when="productConfigProduct==null" name="productId">
            <lookup target-form-name="LookupProduct"/>
        </field>
        <field use-when="productConfigProduct!=null" name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="btn btn-success"><submit button-type="button"/></field>
        <field name="submitButton" title="${uiLabelMap.CommonCreate}" widget-style="btn btn-success"><submit button-type="button"/></field>
    </form>

    <!-- ProdConfItemContent -->
    <form name="AddProductConfigItemContentAssoc" type="single" target="addContentToProductConfigItem" title="Add ProdConfItemContent (select Content Id, enter From Date):"
        header-row-style="header-row" default-table-style="basic-table">
        <auto-fields-entity entity-name="ProdConfItemContent"/>
        <field name="configItemId" title="${uiLabelMap.ProductConfigItemId}" map-name="productConfigItem"><hidden/></field>
        <field name="contentId" title="${uiLabelMap.ProductContentId}" ></field>
        <field name="confItemContentTypeId" title="${uiLabelMap.ProductProductConfigItemContentTypeId}">
            <drop-down>
                <entity-options entity-name="ProdConfItemContentType" description="${description}">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
         <field name="fromDate" title="${uiLabelMap.CommonFromDate}" ></field>
        <field name="thruDate" title="${uiLabelMap.CommonThruDate}"></field>
        <field name="submitButton" title="${uiLabelMap.CommonAdd}" widget-style="btn btn-success"><submit button-type="button"/></field>
    </form>
    <form name="PrepareAddProductConfigItemContentAssoc" type="single" target="prepareAddContentToProductConfigItem" title="Add ProdConfItemContent (select Content Id, enter From Date):"
        header-row-style="header-row" default-table-style="basic-table">
        <auto-fields-entity entity-name="ProdConfItemContent"/>
        <field name="contentId"><ignored/></field>
        <field name="fromDate"><ignored/></field>
        <field name="thruDate"><ignored/></field>
        <field name="configItemId" map-name="productConfigItem"><hidden/></field>
        <field name="confItemContentTypeId" title="${uiLabelMap.ProductProductConfigItemContentTypeId}">
            <drop-down>
                <entity-options entity-name="ProdConfItemContentType" description="${description}">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <!-- <field name="description"><text size="40"/></field> -->
        <field name="submitButton" title="${uiLabelMap.ProductPrepareCreate}" widget-style="btn btn-success"><submit button-type="button"/></field>
    </form>
    <form name="UpdateProductConfigItemContentAssoc" type="list" target="updateContentToProductConfigItem" title="" list-name="productContentDatas"
        odd-row-style="alternate-row" default-table-style="basic-table">
        <!-- each entry in the list will be a Map with the entries: productContent and content -->
        <auto-fields-service service-name="updateProductConfigItemContent" map-name="productContent"/>
        <field name="configItemId"><hidden/></field>
        <field name="contentId" title="${uiLabelMap.ProductContent_Id}" widget-style="btn-link">
            <hyperlink target="EditProductConfigItemContentContent" description="${content.description} [${productContent.contentId}]">
                <parameter param-name="configItemId" from-field="productContent.configItemId"/>
                <parameter param-name="contentId" from-field="productContent.contentId"/>
            </hyperlink>
        </field>
        <field name="confItemContentTypeId" title="${uiLabelMap.ProductProductContentTypeId}">
            <drop-down>
                <entity-options entity-name="ProdConfItemContentType" description="${description}">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="btn btn-success"><submit button-type="button"/></field>
        <field name="deleteLink" title="${uiLabelMap.CommonEmptyHeader}" widget-style="btn btn-mini btn-danger">
            <hyperlink target="removeContentFromProductConfigItem" description="[${uiLabelMap.CommonDelete}]" also-hidden="false">
                <parameter param-name="configItemId" from-field="productContent.configItemId"/>
                <parameter param-name="contentId" from-field="productContent.contentId"/>
                <parameter param-name="confItemContentTypeId" from-field="productContent.confItemContentTypeId"/>
                <parameter param-name="fromDate" from-field="productContent.fromDate"/>
            </hyperlink>
        </field>
    </form>
    <form name="EditProductConfigItemContentSimpleText" type="single" target="updateSimpleTextContentForProductConfigItem" title="Update Simple Text Content for Product"
        header-row-style="header-row" default-table-style="basic-table">
        <alt-target use-when="contentId==null" target="createSimpleTextContentForProductConfigItem"/>
        <auto-fields-entity entity-name="ProdConfItemContent" map-name="productContentData"/>
        <field name="fromDate" title="${uiLabelMap.CommonFromDate}" ></field>
        <field name="thruDate" title="${uiLabelMap.CommonThruDate}"></field>
        <field name="description" title="${uiLabelMap.ProductProductDescription}" map-name="content"><text size="40"/></field>
        <field name="localeString" title="${uiLabelMap.ProductLocaleString}" map-name="content"><text size="40"/></field>
        <field use-when="contentId == null" name="contentId"><ignored/></field>
        <field use-when="contentId != null" name="contentId" tooltip="${uiLabelMap.ProductNotModificationRecrationProductContentAssociation}" map-name="productContentData" ><display/></field>
        <field name="text"  title="${uiLabelMap.ProductText}" map-name="textData"><textarea cols="60" rows="7"/></field>
        <field name="textDataResourceId" title="${uiLabelMap.ProductTextDataResourceId}" map-name="textData"><hidden/></field>
        <field name="configItemId"><hidden/></field>
        <field name="confItemContentTypeId"><hidden/></field>
        <field use-when="contentId == null" name="submitButton" title="${uiLabelMap.CommonCreate}" widget-style="btn btn-success"><submit button-type="button"/></field>
        <field use-when="contentId != null" name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="btn btn-success"><submit button-type="button"/></field>
    </form>

    <form name="ListProductConfigItem" type="list" list-name="productConfigs"
        default-table-style="basic-table" odd-row-style="alternate-row" paginate-target="FindProductConfigItems"
        target="" header-row-style="header-row-2" paginate="true">
        <actions>
            <entity-condition entity-name="ProductConfigAndProduct" list="productConfigs" distinct="true">
                <condition-list>
                    <condition-expr field-name="configItemId" operator="equals" from-field="configItemId"/>
                </condition-list>
                <select-field field-name="productId"/>
                <select-field field-name="configItemId"/>
                <select-field field-name="productName"/>
                <select-field field-name="piecesIncluded"/>
            </entity-condition>
        </actions>
        <auto-fields-entity entity-name="ProductConfigAndProduct" default-field-type="hidden"/>
        <field name="productId" widget-style="btn-link"  >
            <hyperlink target="EditProductConfigs" description="${productId}">
                <parameter param-name="productId"/>
            </hyperlink>
        </field>
        <field name="productName" title="${uiLabelMap.ProductName}"><display description="${productName}"/></field>
        <field name="piecesIncluded" title="${uiLabelMap.ProductPiecesIncluded}"><display description="${piecesIncluded}"/></field>
    </form>

    <form name="ProductConfigOptionList" type="list" list-name="configOptionList"
        default-table-style="basic-table" odd-row-style="alternate-row" paginate-target="FindProductConfigItems"
        target="" header-row-style="header-row-2" paginate="true">
        <auto-fields-entity entity-name="ProductConfigOption" default-field-type="display"/>
        <field name="configItemId" widget-style="btn-link" title="${uiLabelMap.ProductConfigItem}">
            <hyperlink target="EditProductConfigOptions" description="${configOptionId} - ${configOptionName}">
                <parameter param-name="configItemId"/>
                <parameter param-name="configOptionId"/>
            </hyperlink>
        </field>
        <field name="configOptionId" ><hidden/></field>
        <field name="configOptionName" ><hidden/></field>
        <field name="remove" title="${uiLabelMap.CommonRemove}" widget-style="btn btn-mini btn-danger" >
            <hyperlink target="deleteProductConfigOption" description="${uiLabelMap.CommonRemove}">
                <parameter param-name="configItemId"/>
                <parameter param-name="configOptionId"/>
            </hyperlink>
        </field>
    </form>

    <form name="ProductConfigList" type="list" list-name="configProducts"
        default-table-style="basic-table" odd-row-style="alternate-row" paginate-target="FindProductConfigItems"
        target="" header-row-style="header-row-2" paginate="true">
        <row-actions>
            <entity-one entity-name="Product" value-field="product">
                <field-map field-name="productId"/>
            </entity-one>
        </row-actions>
        <auto-fields-service service-name="createProductConfigProduct" default-field-type="display"/>
        <field name="configItemId" ><hidden/></field>
        <field name="configOptionId" ><hidden/></field>
        <field name="productId" widget-style="btn-link">
            <hyperlink target="EditProduct" description="${product.productId} - ${product.productName}">
                <parameter param-name="productId" from-field="product.productId"/>
            </hyperlink>
        </field>
        <field name="remove" widget-style="btn btn-mini btn-danger" >
            <hyperlink target="deleteProductConfigProduct" description="${uiLabelMap.CommonRemove}">
                <parameter param-name="configItemId"/>
                <parameter param-name="configOptionId"/>
                <parameter param-name="productId" from-field="product.productId"/>
            </hyperlink>
        </field>
    </form>

    <form name="AddAdjustmentTypeGlAccount" type="single" target="createOrderAdjustmentType" title=""
        header-row-style="header-row" default-table-style="basic-table">
        <field name="organizationPartyId"><hidden/></field>
        <field name="orderAdjustmentTypeId">
        	<hidden />
        </field>
        <field name="glAccountId" title="${uiLabelMap.AccountingGlAccount}" separate-column="true" required-field="true" widget-style="required"> 
			<lookup target-form-name="LookupGlAccount" />
		</field>
        <field name="Description" parameter-name="description" required-field="true" widget-style="required">
        	<text/>
        </field>
        <field name="Assessable Value Calculation " parameter-name="assessableValueCalculation">
			<check></check>
		</field>
        <field name="Method Of Apportion" parameter-name="methodOfApportion">
        	<drop-down allow-empty="true">
        		<option key="Based on Value" description="Based on Value"/>
        		<option key="Based on Quantity" description="Based on Quantity"/>
        	</drop-down>
        </field>
        <field name="Tax Type" parameter-name="taxType">
        	<drop-down allow-empty="true">
        		<option key="VAT" description="VAT"/>
        		<option key="EXCISE" description="Excise"/>
        		<option key="EXCISE&amp;VAT" description="Excise &amp; VAT"/>
        	</drop-down>
        </field>
        
        <field name="submitButton" title="Create" widget-style="btn btn-success">
        <submit button-type="button"/>
        </field>
    </form>
    
    <form name="AdjustmentTypeGlAccounts" type="list" list-name="orderAdjustmentType" odd-row-style="alternate-row" header-row-style="header-row-2" 
    		default-table-style="basic-table hover-bar" target="EditAdjustmentTypeGlAccounts" paginate-target="AdjustmentTypeGlAccounts">
     	
        <actions>
            <entity-condition entity-name="OrderAdjustmentType" list="orderAdjustmentType">
            </entity-condition>
        </actions>
        <field name="orderAdjustmentTypeId"><hidden/></field>
        <field name="glAccountId" title="Gl Account" required-field="true" >
        <display-entity entity-name="GlAccount"
				key-field-name="glAccountId" description="${accountName}">
			</display-entity>
        </field>
        <field name="description" title="Description">
        	<display/>
        </field>
        <field name="assessableValueCalculation">
			<hidden/>
		</field>
        <field name="methodOfApportion" >
            <display/>
        </field> 
        
        <field name="taxType"  >
        	<display/>
        </field>
        <field name="addLink" title="Edit" widget-style="btn btn-success">
            <submit/>            
        </field>
          <field name="delLink" title="Delete" widget-style="btn btn-mini btn-danger">
            <hyperlink target="DeleteOrderAdjustmentType" description="${uiLabelMap.CommonDelete}" also-hidden="false">
                <parameter param-name="orderAdjustmentTypeId"/>
            </hyperlink>           
        </field>        
    </form>
    
    <form name="EditAdjustmentTypeGlAccounts" type="single" target="UpdateAdjustmentTypeGlAccounts" title="Edit Adjustment Type">
        
        <field name="organizationPartyId"><hidden/></field>
        <field name="glAccountTypeId">
        	<hidden/>
        </field>
        <field name="orderAdjustmentTypeId"><display/></field>
        <field name="glAccountId" title="Adjustment Gl Account" required-field="true" widget-style="required">
            <drop-down allow-empty="true" >
            <list-options list-name="glAccountList" list-entry-name="glAcc" 
            				key-name="glAcc.glAccountId" description="${glAcc.accountName}"/>
            </drop-down>
        </field>
        
        <field name="description" title="Description" required-field="true" widget-style="required">
        	<text/>
        </field>
        
		<field  use-when="${parameters.assessableValueCalculation eq 'Y'}" name="assessableValueCalculation" >
		<check all-checked="true"></check>
		</field>
		
		<field use-when="${parameters.assessableValueCalculation ne 'Y'}" name="assessableValueCalculation" >
		<check></check>
		</field>
				
        <field name="methodOfApportion" >
            <drop-down allow-empty="true">
            <option key="Based on Value" description="Based on Value"/>
        	<option key="Based on Quantity" description="Based on Quantity"/>
            </drop-down>
        </field> 
        
        <field name="taxType"  >
        	<drop-down allow-empty="true">
        		<option key="VAT" description="VAT"/>
        		<option key="EXCISE" description="Excise"/>
        		<option key="EXCISE&amp;VAT" description="Excise &amp; VAT"/>
        	</drop-down>
        </field>
        
        <field name="submitButton" title="Update" widget-style="btn btn-success"><submit button-type="button"/></field>
               
    </form>
    
    <form name="createGlAccounts" type="single" target="createNewGlAccount" title=""
        header-row-style="header-row" default-table-style="basic-table">
        <auto-fields-service service-name="updateGlAccount" map-name=""/>
        <field name="organizationPartyId"><hidden/></field>
        <field name="glAccountId">
        	<hidden/>
        </field>
        <field name="accountName" required-field="true" ><text/></field>
        <field name="accountCode" required-field="true" ><text/></field>
        <field name="glAccountTypeId">
            <drop-down allow-empty="false">
                <entity-options entity-name="GlAccountType" description="${description}">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="glAccountTypeId">
        	<hidden/>
        </field>
        <field name="glAccountClassId" >
        	<hidden value=""/>
        </field>
        
        <field name="glResourceTypeId">
            <hidden/>
        </field>
        <field name="glXbrlClassId">
            <hidden/>
        </field>
        <field name="parentGlAccountId">
            <hidden/>
        </field>
        <field name="postedBalance"><hidden/></field>
        
        <field name="productId"><hidden/></field>
        <field name="taxClassification"><hidden/></field>
        <field name="taxType"><hidden/></field>
        <field name="externalId"><hidden/></field>
        <field name="submitButton" title="Create" widget-style="btn btn-success"><submit button-type="button"/></field>
    </form>
            
    <form name="glAccountList" type="list" list-name="glAccountList" odd-row-style="alternate-row" header-row-style="header-row-2" 
    		default-table-style="basic-table hover-bar">
        <actions>
            <entity-condition entity-name="GlAccount" list="glAccountList">
            	<condition-expr field-name="parentGlAccountId" value="400000"/>
            </entity-condition>
        </actions>
        <field name="glAccountId">
        	<display></display>
        </field>
        <field name="accountCode">
        	<display></display>
        </field>
        <field name="accountName">
        	<display></display>
        </field>
        <field name="description">
        	<display></display>
        </field>
        <field name="sortOrder">
        	<display></display>
        </field>
        <field name="editLink" title="${uiLabelMap.CommonEmptyHeader}" widget-style="btn btn-success">
            <hyperlink target="EditGlAccounts" description="Edit" also-hidden="false">
                <parameter param-name="glAccountId"/>
            </hyperlink>
        </field>
        <field name="deleteLink" title="${uiLabelMap.CommonEmptyHeader}" widget-style="btn btn-mini btn-danger">
            <hyperlink target="DeleteGlAccounts" description="${uiLabelMap.CommonDelete}" also-hidden="false">
                <parameter param-name="glAccountId"/>
            </hyperlink>
        </field>
    </form>
     <form name="EditGlAccounts" target="UpdateGlAccounts" title="" type="single"  default-map-name="glAccount">
        <auto-fields-service service-name="updateGlAccount" map-name=""/>
        <field name="organizationPartyId"><hidden/></field>
        <field name="glAccountId">
        	<display/>
        </field>
        <field name="accountName" required-field="true" ><text/></field>
        <field name="accountCode" required-field="true" ><text/></field>
        <field name="glAccountTypeId">
            <drop-down allow-empty="false">
                <entity-options entity-name="GlAccountType" description="${description}">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="glAccountTypeId">
        	<hidden/>
        </field>
        <field name="glAccountClassId" >
        	<hidden value=""/>
        </field>
        
        <field name="glResourceTypeId">
            <hidden/>
        </field>
        <field name="glXbrlClassId">
            <hidden/>
        </field>
        <field name="parentGlAccountId">
            <hidden/>
        </field>
        <field name="postedBalance"><hidden/></field>
        
        <field name="productId"><hidden/></field>
        <field name="taxClassification"><hidden/></field>
        <field name="taxType"><hidden/></field>
        <field name="externalId"><hidden/></field>
        <field name="submitButton" title="Update" widget-style="btn btn-success"><submit button-type="button"/></field>
    </form>
    
    <form name="createVoucher" type="single" target="createVoucherList" title="" >
        
        <field name="voucherParentId" title="Voucher Type">
        	<drop-down>
        		<option key="Purchase" description="Purchase"/>
        		<option key="Sales" description="Sales"/>
        		<option key="Purchase Return" description="Purchase Return"/>
        		<option key="Sales Return" description="Sales Return"/>
        	</drop-down>
        </field>
        
        <field name="voucherName" required-field="true" widget-style="required" >
        	<text />
        </field>
        
        <field name="submitButton" title="Create" widget-style="btn btn-success">
	        <submit button-type="button"/>
        </field>
    </form>
    
    <form name="voucherList" type="list" list-name="voucherList" odd-row-style="alternate-row" header-row-style="header-row-2" 
    		default-table-style="basic-table hover-bar">
       
        <field name="voucherId">
        	<display></display>
        </field>
        <field name="voucherParentId" title="Voucher Type">
        	<display></display>
        </field>
        <field name="voucherName">
        	<display></display>
        </field>
        <field name="deleteLink" title="${uiLabelMap.CommonEmptyHeader}" widget-style="btn btn-mini btn-danger">
            <hyperlink target="deleteVoucherList" description="${uiLabelMap.CommonDelete}" also-hidden="false">
                <parameter param-name="voucherId"/>
            </hyperlink>
        </field>
        
    </form>
    
    <form name="ListGlAccount" list-name="listIt" target="" title="" type="list" default-entity-name="GlAccount" 
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
        <actions>
            <set field="entityName" value="GlAccount"/>
            <set field="noConditionFind" value="Y"/>
            <service service-name="performFind" result-map="result" result-map-list="listIt">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" from-field="entityName"/>
                <field-map field-name="noConditionFind" value="Y"/>
            </service>
            <property-to-field field="defaultCurrencyUomId" resource="general" property="currency.uom.id.default" default="USD"/>
        </actions>
        <!--auto-fields-entity entity-name="GlAccount" default-field-type="display"/-->
        <field name="glAccountId" title="${uiLabelMap.CommonEdit}" widget-style="btn-link">
            <hyperlink also-hidden="false" description="${glAccountId}" target="GlAccountNavigate">
                <parameter param-name="glAccountId"/>
            </hyperlink>
        </field>
        <field name="accountName" entry-name="glAccountId"><display-entity entity-name="GlAccount" key-field-name="glAccountId" description="${accountName}"/></field>
        <field name="glAccountTypeId"><display-entity entity-name="GlAccountType"/></field>
        <field name="glAccountClassId"><display-entity entity-name="GlAccountClass"/></field>
        <field name="glResourceTypeId"><display-entity entity-name="GlResourceType"></display-entity></field>
        <field name="glXbrlClassId"><display-entity entity-name="GlXbrlClass"></display-entity></field>
        <field name="parentGlAccountId">
            <display-entity entity-name="GlAccount" description="${accountName}" key-field-name="glAccountId">
                <sub-hyperlink target="GlAccountNavigate" description="[${parentGlAccountId}]" use-when="parentGlAccountId!=null">
                    <parameter param-name="glAccountId"/>
                </sub-hyperlink>
            </display-entity>
        </field>
        <field name="accountCode"><hidden/></field>
        <field name="postedBalance" widget-area-style="align-text" title-area-style="align-text"><display type="currency" currency="${defaultOrganizationPartyCurrencyUomId}"/></field>
    </form>
    
      <form name="EditGlAccount" type="single" target="updateGlAccount" title="" default-map-name="glAccount"
        header-row-style="header-row" default-table-style="basic-table">
        <alt-target use-when="glAccount==null" target="createGlAccount"/>
        <auto-fields-service service-name="updateGlAccount" map-name=""/>

        <field use-when="glAccount!=null" name="glAccountId" tooltip="${uiLabelMap.AccountingNotModificationRecrationGlAccount}"><display/></field>
        <field use-when="glAccount==null&amp;&amp;glAccountId!=null" name="glAccountId" tooltip="${uiLabelMap.AccountingCouldNotFindGlAccount} [${glAccountId}]"><text size="20" maxlength="20"/></field>
        <!-- this to be taken care of with auto-fields-service as soon as it uses entity field info too -->
        <field use-when="glAccount==null&amp;&amp;glAccountId==null" name="glAccountId"><text size="20" maxlength="20"/></field>

        <field name="glAccountTypeId">
            <drop-down allow-empty="false">
                <entity-options entity-name="GlAccountType" description="${description}">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="glAccountClassId">
            <drop-down allow-empty="false">
                <entity-options entity-name="GlAccountClass" description="${description}">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="glResourceTypeId">
            <drop-down allow-empty="false">
                <entity-options entity-name="GlResourceType" description="${description}">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="glXbrlClassId">
            <drop-down allow-empty="true">
                <entity-options entity-name="GlXbrlClass" description="${description}">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="parentGlAccountId">
            <drop-down allow-empty="true">
                <entity-options key-field-name="glAccountId" entity-name="GlAccount" description="${accountCode} - ${accountName} [${glAccountId}]">
                    <entity-order-by field-name="accountCode"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="postedBalance"><display/></field>

        <field name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="btn btn-success"><submit button-type="button"/></field>
        <field name="submitButton" title="${uiLabelMap.CommonAdd}" use-when="glAccount==null" widget-style="btn btn-success"><submit button-type="button"/></field>
    </form>
    
    <form name="AssignGlAccount" type="single" target="createGlAccountOrganization" title="" default-map-name="account"
        header-row-style="header-row" default-table-style="basic-table">
        <field name="glAccountId">
            <drop-down>
                <entity-options entity-name="GlAccount" description="${accountCode} - ${accountName} [${glAccountId}]">
                    <entity-order-by field-name="accountCode"/>
                </entity-options>
            </drop-down>
        </field>
        <!-- <field name="organizationPartyId" title="Party" -->
        <field name="partyId" parameter-name="organizationPartyId">
            <drop-down>
                <entity-options entity-name="PartyRoleAndPartyDetail" description="${partyId}" >
                <!-- entity-options entity-name="PartyRoleAndPartyDetail" description="${organizationPartyId}" -->
                    <entity-constraint name="roleTypeId" value="INTERNAL_ORGANIZATIO"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="submitButton" title="${uiLabelMap.AccountingCreateAssignment}" widget-style="btn btn-success"><submit button-type="button"/></field>
    </form>
    
    <form name="ListGlAccountOrganization" list-name="listIt" target="" title="" type="list" view-size="50"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar" paginate-target="ListGlAccountOrganization">
        <actions>
            <entity-condition entity-name="GlAccountOrganizationAndClass">
                <condition-expr field-name="organizationPartyId" from-field="organizationPartyId"/>
                <order-by field-name="glAccountId"/>
            </entity-condition>
        </actions>
        <auto-fields-entity entity-name="GlAccount" default-field-type="display"/>
        <field name="glAccountId" widget-style="btn-link">
            <hyperlink also-hidden="false" description="${glAccountId}" target="GlAccountNavigate">
                <parameter param-name="glAccountId"/>
            </hyperlink>
        </field>
        <field name="glAccountClassId">
            <display-entity entity-name="GlAccountClass"/>
        </field>
        <field name="glAccountTypeId">
            <display-entity entity-name="GlAccountType"/>
        </field>
        <field name="accountName" entry-name="glAccountId"><display-entity entity-name="GlAccount" key-field-name="glAccountId" description="${accountName}"/></field>
    </form>
    
    <form name="AssignGlAccount" type="single" target="createGlAccountOrganization" title="" default-map-name="account"
        header-row-style="header-row" default-table-style="basic-table">
        <field name="organizationPartyId"><hidden/></field>
        <field name="glAccountId">
            <drop-down>
                <entity-options entity-name="GlAccount" description="${accountCode} - ${accountName} [${glAccountId}]">
                    <entity-order-by field-name="accountCode"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="submitButton" title="${uiLabelMap.AccountingCreateAssignment}"><submit button-type="button"/></field>
    </form>
     
      <form name="PartyAcctgPreference" type="single" target="createPartyAcctgPreference" default-map-name="aggregatedPartyAcctgPreference"
            header-row-style="header-row" default-table-style="basic-table">
        <actions>
            <service service-name="getPartyAccountingPreferences" result-map="result">
                <field-map field-name="organizationPartyId"/>
            </service>
            <set field="aggregatedPartyAcctgPreference" from-field="result.partyAccountingPreference" type="Object"/>
        </actions>
        <alt-target use-when="partyAcctgPreference!=null" target="updatePartyAcctgPreference"/>
        <auto-fields-service service-name="createPartyAcctgPreference"/>
        <field name="organizationPartyId"><hidden value="${parameters.organizationPartyId}"/></field>
        <!-- the partyId is always displayed -->
        <field name="partyId" title="${uiLabelMap.AccountingOrganizationPartyId}"><display/></field>
        <!-- if there is no partyAcctgPreference yet, then we show drop-downs for the fields and a submit button -->
        <field name="fiscalYearStartMonth" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('fiscalYearStartMonth')!=null)return (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <drop-down>
                <option key="1" description="${uiLabelMap.AccountingFiscalMonth01}"/>
                <option key="2" description="${uiLabelMap.AccountingFiscalMonth02}"/>
                <option key="3" description="${uiLabelMap.AccountingFiscalMonth03}"/>
                <option key="4" description="${uiLabelMap.AccountingFiscalMonth04}"/>
                <option key="5" description="${uiLabelMap.AccountingFiscalMonth05}"/>
                <option key="6" description="${uiLabelMap.AccountingFiscalMonth06}"/>
                <option key="7" description="${uiLabelMap.AccountingFiscalMonth07}"/>
                <option key="8" description="${uiLabelMap.AccountingFiscalMonth08}"/>
                <option key="9" description="${uiLabelMap.AccountingFiscalMonth09}"/>
                <option key="10" description="${uiLabelMap.AccountingFiscalMonth10}"/>
                <option key="11" description="${uiLabelMap.AccountingFiscalMonth11}"/>
                <option key="12" description="${uiLabelMap.AccountingFiscalMonth12}"/>
            </drop-down>
        </field>
        <field name="fiscalYearStartDay" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('fiscalYearStartDay')!=null)return (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <drop-down>
                <option key="1"/><option key="2"/><option key="3"/><option key="4"/><option key="5"/>
                <option key="6"/><option key="7"/><option key="8"/><option key="9"/><option key="10"/>
                <option key="11"/><option key="12"/><option key="13"/><option key="14"/><option key="15"/>
                <option key="16"/><option key="17"/><option key="18"/><option key="19"/><option key="20"/>
                <option key="21"/><option key="22"/><option key="23"/><option key="24"/><option key="25"/>
                <option key="26"/><option key="27"/><option key="28"/><option key="29"/><option key="30"/>
                <option key="31"/>
            </drop-down>
        </field>
        <field name="taxFormId" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('taxFormId')!=null)return
            (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <drop-down>
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="TAX_FORMS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="cogsMethodId" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('cogsMethodId')!=null)return (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <drop-down>
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="COGS_METHODS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="baseCurrencyUomId" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('baseCurrencyUomId')!=null)return
            (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <drop-down no-current-selected-key="${defaultOrganizationPartyCurrencyUomId}">
                <entity-options key-field-name="uomId" description="${description} - ${abbreviation}" entity-name="Uom">
                    <entity-constraint name="uomTypeId" operator="equals" value="CURRENCY_MEASURE"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="invoiceIdPrefix" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('invoiceIdPrefix')!=null)return
            (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <text maxlength="10" size="5"/>
        </field>
        <field name="lastInvoiceNumber" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('invoiceIdPrefix')!=null)return
            (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <text maxlength="10" size="5"/>
        </field>
        <field name="lastInvoiceRestartDate" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('invoiceIdPrefix')!=null)return
            (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <date-time/>
        </field>
        
        <field name="invoiceSequenceEnumId" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('invoiceSequenceEnumId')!=null)return
            (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <drop-down>
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="INVOICE_SEQMD"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="useInvoiceIdForReturns" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('useInvoiceIdForReturns')!=null)return
            (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <drop-down allow-empty="true">
                <option key="Y" description="${uiLabelMap.CommonY}"/><option key="N" description="${uiLabelMap.CommonN}"/>
            </drop-down>
        </field>
        <field name="quoteIdPrefix" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('quoteIdPrefix')!=null)return
            (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <text maxlength="10" size="5"/>
        </field>
        <field name="quoteSequenceEnumId" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('quoteSequenceEnumId')!=null)return
            (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <drop-down>
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="QUOTE_SEQMD"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="orderIdPrefix" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('orderIdPrefix')!=null)return (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <text maxlength="10" size="5"/>
        </field>
        <field name="orderSequenceEnumId" use-when="partyAcctgPreference==null"
            tooltip="${groovy: import org.ofbiz.base.util.UtilProperties; if(aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('orderSequenceEnumId')!=null)return
            (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <drop-down>
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="ORDER_SEQMD"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
      <field name="createButton" use-when="partyAcctgPreference==null"  title="${uiLabelMap.CommonAdd}" widget-style="btn btn-success" event="onClick" action="javascript:
   	  var r=confirm('Accounting Prefernce once saved cannot be modified, except for Refund Payment Method Id and Error GL Journal Id. Do you want to continue?');
		if (r==true)
	  {
	  	return true;
	  }
	else
	  {
	 	 return false;
	  }"> <submit/></field>
        <field name="updateButton" use-when="partyAcctgPreference!=null" title="${uiLabelMap.CommonUpdate}" widget-style="btn btn-success"><submit/></field>

        <!-- otherwise, we just display the fields.  there is no submit button because we shouldn't try to create it again and don't support an update option right now-->
        <field name="fiscalYearStartMonth" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('fiscalYearStartMonth')==null&amp;&amp;aggregatedPartyAcctgPreference.get('fiscalYearStartMonth')!=null)return
            (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <display/>
        </field>
        <field name="fiscalYearStartDay" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
            if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('fiscalYearStartDay')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('fiscalYearStartDay')!=null)return
                    (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display/>
        </field>
        <field name="taxFormId" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('taxFormId')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('taxFormId')!=null)return
                    (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display-entity entity-name="Enumeration" key-field-name="enumId"/>
        </field>
        <field name="cogsMethodId" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
            if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('cogsMethodId')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('cogsMethodId')!=null)return
                    (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display-entity entity-name="Enumeration" key-field-name="enumId"/>
        </field>
        <field name="baseCurrencyUomId" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('baseCurrencyUomId')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('baseCurrencyUomId')!=null)return
                (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display/>
        </field>
        <field name="invoiceIdPrefix" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('invoiceIdPrefix')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('invoiceIdPrefix')!=null)return
                (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display/>
        </field>
        <field name="invoiceSequenceEnumId" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('invoiceSequenceEnumId')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('invoiceSequenceEnumId')!=null)return
                (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display-entity entity-name="Enumeration" key-field-name="enumId"/>
        </field>
        <field name="useInvoiceIdForReturns" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('useInvoiceIdForReturns')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('useInvoiceIdForReturns')!=null)return
                (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display/>
        </field>
        <field name="quoteSequenceEnumId" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('quoteSequenceEnumId')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('quoteSequenceEnumId')!=null)return
                (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display-entity entity-name="Enumeration" key-field-name="enumId"/>
        </field>
        <field name="quoteIdPrefix" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('quoteIdPrefix')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('quoteIdPrefix')!=null)return
                (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display/>
        </field>
        <field name="lastQuoteNumber" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('lastQuoteNumber')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('lastQuoteNumber')!=null)return
                (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display/>
        </field>
        <field name="orderSequenceEnumId" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('orderSequenceEnumId')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('orderSequenceEnumId')!=null)return
                (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display-entity entity-name="Enumeration" key-field-name="enumId"/>
        </field>
        <field name="orderIdPrefix" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('orderIdPrefix')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('orderIdPrefix')!=null)return
                (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display/>
        </field>
        <field name="lastOrderNumber" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('lastOrderNumber')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('lastOrderNumber')!=null)return
                (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display/>
        </field>

        <!-- these 2 are ONLY displayed, never allow manual editing -->
        <field name="lastInvoiceNumber" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('orderIdPrefix')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('orderIdPrefix')!=null)return
                (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display/>
        </field>
        <field name="lastInvoiceRestartDate" use-when="partyAcctgPreference!=null" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if(partyAcctgPreference!= null&amp;&amp;partyAcctgPreference.get('orderIdPrefix')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('orderIdPrefix')!=null)return
                (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display/>
        </field>
        
        <!--
        <field name="lastInvoiceNumber" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if((partyAcctgPreference==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('lastInvoiceNumber')!=null) ||
                (partyAcctgPreference!=null&amp;&amp;partyAcctgPreference.get('lastInvoiceNumber')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('lastInvoiceNumber')!=null))return
                    (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display/>
        </field>
        --><!--<field name="lastInvoiceRestartDate" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if((partyAcctgPreference==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('lastInvoiceRestartDate')!=null) ||
                (partyAcctgPreference!=null&amp;&amp;partyAcctgPreference.get('lastInvoiceRestartDate')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('lastInvoiceRestartDate')!=null))return (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <display/>
        </field>
        --><!-- these 2 are always can be updated -->
        <field name="refundPaymentMethodId" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
                if((partyAcctgPreference==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('refundPaymentMethodId')!=null) ||
                (partyAcctgPreference!=null&amp;&amp;partyAcctgPreference.get('refundPaymentMethodId')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('refundPaymentMethodId')!=null))return
                (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale);)}">
            <drop-down>
                <entity-options entity-name="PaymentMethod" description="${description}" key-field-name="paymentMethodId">
                    <entity-constraint name="partyId" operator="equals" env-name="organizationPartyId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="errorGlJournalId" tooltip="${groovy: import org.ofbiz.base.util.UtilProperties;
            if((partyAcctgPreference==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('errorGlJournalId')!=null) ||
            (partyAcctgPreference!=null&amp;&amp;partyAcctgPreference.get('errorGlJournalId')==null&amp;&amp;aggregatedPartyAcctgPreference!= null&amp;&amp;aggregatedPartyAcctgPreference.get('errorGlJournalId')!=null))return 
            (UtilProperties.getMessage('AccountingUiLabels', 'AccountingInheritedValue', locale))}">
            <drop-down allow-empty="true">
                <entity-options entity-name="GlJournal" key-field-name="glJournalId" description="${glJournalName} [${glJournalId}]">
                    <entity-constraint name="organizationPartyId" operator="equals" env-name="organizationPartyId"/>
                    <entity-order-by field-name="glJournalName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="exciseEnabled" use-when="partyAcctgPreference!=null">
        	<drop-down allow-empty="false" current="first-in-list">
        		<option key="N" description="N"/>
        		<option key="Y" description="Y"/>
        	</drop-down>
        </field>
        <!--<field name="poInventoriesReq" use-when="partyAcctgPreference!=null"  title="Inventories Values are affected PO ?">
        	<drop-down allow-empty="false" current="first-in-list">
        		<option key="N" description="N"/>
        		<option key="Y" description="Y"/>
        	</drop-down>
        </field> -->
    </form>
</forms>
